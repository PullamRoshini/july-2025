class Solution(object):
    def productQueries(self, n, queries):
        MOD=10**9+7
        powers=[]
        bit=1
        temp=n
        while temp>0:
            if temp&1:
                powers.append(bit)
            bit<<=1
            temp>>=1
        ans=[]
        for l,r in queries:
            product=1
            for i in range(l,r+1):
                product=(product*powers[i]) % MOD 
            ans.append(product)
        return ans
